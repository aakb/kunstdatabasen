{% extends "base.html.twig" %}

{% block title %}
    {{ 'title'|trans }}
{% endblock %}

{% block body %}
    {% include "app/_header.html.twig" %}
    {% include "app/_filters.html.twig" with { form: searchForm } %}
    {% include "app/_table.html.twig" %}
    {% include "app/_footer.html.twig" %}
{% endblock %}

{% block stylesheets %}
    {{ encore_entry_link_tags('app') }}
{% endblock %}

{% block javascripts %}
    {{ encore_entry_script_tags('app') }}

    {% if siteImproveKey is defined %}
        <script type="text/javascript">
            var siteImproveKey = '{{ siteImproveKey }}';

            window.addEventListener('CookieInformationConsentGiven', function (event) {
                // eslint-disable-next-line no-undef
                if (CookieInformation.getConsentGivenFor('cookie_cat_statistic')) {
                    (function () {
                        const sz = document.createElement('script');
                        sz.type = 'text/javascript';
                        sz.async = true;
                        sz.src = '//ssl.siteimprove.com/js/siteanalyze_' + siteImproveKey + '.js';
                        const s = document.getElementsByTagName('script')[0];
                        s.parentNode.insertBefore(sz, s);
                    })();
                }
            }, false);
        </script>
    {% endif %}
{% endblock %}
